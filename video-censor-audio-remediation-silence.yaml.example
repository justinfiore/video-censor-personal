# Video Censor Personal - Audio Remediation (Silence Mode) Example
# Copy this file to video-censor.yaml and modify as needed
#
# This config enables audio detection AND remediation with SILENCE mode.
# Detected profanity segments are silenced (zeroed out) in the output video.
#
# IMPORTANT: When remediation is enabled, you MUST provide --output-video
#
# Usage:
#   python video_censor_personal.py \
#     --input video.mp4 \
#     --config video-censor-audio-remediation-silence.yaml \
#     --output results.json \
#     --output-video censored_video.mp4
#
# Output files:
#   - results.json: Detection results with timecodes
#   - censored_video.mp4: Video with profanity silenced

version: 1.0

# Detection settings
detections:
  nudity:
    enabled: true
    sensitivity: 0.7
    model: "local"
  
  profanity:
    enabled: true
    sensitivity: 0.8
    model: "local"
  
  violence:
    enabled: true
    sensitivity: 0.6
    model: "local"
  
  sexual_themes:
    enabled: true
    sensitivity: 0.75
    model: "local"

# Detector configuration
detectors:
  # Visual detector
  - type: "llava"
    name: "llava-primary"
    model_name: "liuhaotian/llava-v1.5-7b"
    prompt_file: "./prompts/llava-detector.txt"
    categories:
      - "Nudity"
      - "Violence"
      - "Sexual Theme"
  
  # Speech profanity detector
  - type: "speech-profanity"
    name: "speech-detector"
    enabled: true
    model: "base"
    categories:
      - "Profanity"
    languages:
      - "en"
      - "es"
    confidence_threshold: 0.8
  
  # Audio classification detector
  - type: "audio-classification"
    name: "audio-classifier"
    enabled: true
    model: "MIT/ast-finetuned-audioset-10-10-0.4593"
    categories:
      - "Violence"
    confidence_threshold: 0.6
    chunk_duration: 2.0              # Audio chunk size in seconds

# Audio processing settings
audio:
  detection:
    enabled: true

# Remediation settings
remediation:
  # Audio remediation - silence mode
  # This will censor detected audio segments
  audio:
    enabled: true
    mode: "silence"                  # Zero out audio samples (natural-sounding)
    categories:                      # Which categories to remediate
      - "Profanity"                  # Silence profanity
      # - "Violence"                 # Uncomment to also silence violence sounds

# Video processing settings
processing:
  frame_sampling:
    strategy: "uniform"
    sample_rate: 1.0
  
  segment_merge:
    enabled: true
    merge_threshold: 2.0
  
  max_workers: 4

# Output settings
output:
  format: "json"
  include_confidence: true
  pretty_print: true
